<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="E:/World of Warcraft/_retail_/Interface/AddOns/Krowi_Databases/Krowi_AchievementFilter.db" readonly="0" foreign_keys="1" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="structure browser pragmas query" current="1"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="3427"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><current_table name="4,15:mainAchievement_AGT"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="Achievement" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort><column index="4" mode="1"/></sort><column_widths><column index="1" value="80"/><column index="2" value="68"/><column index="3" value="84"/><column index="4" value="77"/><column index="5" value="121"/></column_widths><filter_values><column index="1" value="15004"/></filter_values><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AchievementCategory" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort><column index="1" mode="1"/></sort><column_widths><column index="1" value="40"/><column index="2" value="63"/><column index="3" value="172"/><column index="4" value="66"/><column index="5" value="76"/><column index="6" value="98"/><column index="7" value="66"/><column index="8" value="143"/><column index="9" value="50"/><column index="10" value="144"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AchievementCategoryAchievement" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort><column index="1" mode="1"/></sort><column_widths><column index="1" value="40"/><column index="2" value="82"/><column index="3" value="107"/></column_widths><filter_values><column index="4" value="15059"/></filter_values><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AchievementCategoryCanMergeChildren" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="40"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AchievementCategoryIgnoreParentMapIDs" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort><column index="1" mode="0"/></sort><column_widths><column index="1" value="40"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AchievementCategoryInactive" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="40"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AchievementCategoryIsLegacy" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="40"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AchievementCategoryUIMap" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort><column index="2" mode="0"/></sort><column_widths><column index="1" value="40"/><column index="2" value="167"/><column index="3" value="62"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AchievementCovenant" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="40"/><column index="2" value="107"/><column index="3" value="84"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AchievementCriteria" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort><column index="1" mode="0"/></sort><column_widths><column index="1" value="60"/><column index="2" value="107"/><column index="3" value="83"/><column index="4" value="223"/><column index="6" value="318"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AchievementHasIATLink" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="40"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AchievementHasNoWowheadLink" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="42"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AchievementNotObtainable" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort><column index="1" mode="1"/></sort><column_widths><column index="1" value="229"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AchievementRightClickMenu" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="40"/><column index="2" value="107"/><column index="3" value="43"/><column index="4" value="66"/><column index="5" value="86"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AchievementUnobtainable" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="40"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Achievement_AGT" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort><column index="1" mode="1"/></sort><column_widths><column index="1" value="42"/><column index="2" value="327"/><column index="3" value="415"/><column index="4" value="68"/><column index="5" value="123"/><column index="6" value="84"/><column index="7" value="129"/><column index="8" value="129"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Achievement_AGT_Ignore" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="42"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Achievement_For_Insert" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="40"/><column index="2" value="99"/><column index="3" value="137"/><column index="4" value="79"/><column index="5" value="82"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Covenant" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="40"/><column index="2" value="79"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Faction" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort><column index="1" mode="0"/></sort><column_widths><column index="1" value="40"/><column index="2" value="67"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Function" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort><column index="1" mode="0"/></sort><column_widths><column index="1" value="40"/><column index="2" value="416"/><column index="3" value="138"/></column_widths><filter_values><column index="1" value="=11"/></filter_values><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="PetBattleEncounter" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="40"/><column index="2" value="81"/><column index="3" value="83"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="PetBattleLinks" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort><column index="3" mode="0"/></sort><column_widths><column index="1" value="56"/><column index="2" value="107"/><column index="3" value="83"/><column index="4" value="205"/><column index="5" value="66"/><column index="6" value="83"/><column index="7" value="396"/><column index="8" value="129"/><column index="9" value="129"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="PetFamily" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort><column index="1" mode="0"/></sort><column_widths><column index="1" value="40"/><column index="2" value="70"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="UIMap" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort><column index="5" mode="0"/></sort><column_widths><column index="1" value="82"/><column index="2" value="272"/><column index="3" value="174"/><column index="4" value="129"/><column index="5" value="111"/><column index="6" value="443"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="UIMap_AGT" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort><column index="1" mode="1"/></sort><column_widths><column index="1" value="40"/><column index="2" value="272"/><column index="3" value="129"/><column index="4" value="129"/><column index="5" value="111"/><column index="6" value="300"/><column index="7" value="172"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="XuFuEncounter" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort><column index="1" mode="0"/></sort><column_widths><column index="1" value="40"/><column index="2" value="300"/><column index="3" value="83"/><column index="4" value="225"/><column index="5" value="129"/><column index="6" value="129"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="sqlite_sequence" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="204"/><column index="2" value="40"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="Krowi_AchievementFilter_InsertUIMap_Template.sql">-- Readable querry
INSERT OR REPLACE INTO UIMap VALUES (${ID}, '${OriginalName}',
	CASE WHEN (SELECT COUNT(*) FROM UIMap WHERE ID = ${ID}) &gt; 0 THEN
		(SELECT DateAdded FROM UIMap WHERE ID = ${ID}) ELSE DATETIME()
	END,
	CASE WHEN (SELECT OriginalName FROM UIMap WHERE ID = ${ID}) = '${OriginalName}' THEN
		(SELECT DateChanged FROM UIMap WHERE ID = ${ID}) ELSE DATETIME()
	END,
	(SELECT Name FROM UIMap WHERE ID = ${ID}), (SELECT Comment FROM UIMap WHERE ID = ${ID}));

-- Single line querry
INSERT OR REPLACE INTO UIMap VALUES (${ID}, '${OriginalName}', CASE WHEN (SELECT COUNT(*) FROM UIMap WHERE ID = ${ID}) &gt; 0 THEN (SELECT DateAdded FROM UIMap WHERE ID = ${ID}) ELSE DATETIME() END, CASE WHEN (SELECT OriginalName FROM UIMap WHERE ID = ${ID}) = '${OriginalName}' THEN (SELECT DateChanged FROM UIMap WHERE ID = ${ID}) ELSE DATETIME() END, (SELECT Name FROM UIMap WHERE ID = ${ID}), (SELECT Comment FROM UIMap WHERE ID = ${ID}));

-- Regex
-- 1. Replace all ' with ''
-- 2. Search query below
(?:(?:&quot;|)(?&lt;OriginalName&gt;.*?)(?:&quot;|)),(?&lt;ID&gt;\d*),.*?,.*?,.*?,.*?,.*?,.*?,.*?,.*?,.*?,.*?,.*?\n
-- 3. List query below
INSERT OR REPLACE INTO UIMap VALUES (${ID}, '${OriginalName}', CASE WHEN (SELECT COUNT(*) FROM UIMap WHERE ID = ${ID}) &gt; 0 THEN (SELECT DateAdded FROM UIMap WHERE ID = ${ID}) ELSE DATETIME() END, CASE WHEN (SELECT OriginalName FROM UIMap WHERE ID = ${ID}) = '${OriginalName}' THEN (SELECT DateChanged FROM UIMap WHERE ID = ${ID}) ELSE DATETIME() END, (SELECT Name FROM UIMap WHERE ID = ${ID}), (SELECT Comment FROM UIMap WHERE ID = @ID));\n

-- 1. https://regex101.com/r/SluqIW/1
-- 2. https://regex101.com/r/xIeQGe/2</sql><sql name="temp.sql">insert into AchievementCategory (Location, Name, ParentID, FunctionID, FunctionValue, Legacy, IgnoreParentMapIDs, Active, CanMerge) VALUES (3, 'Torghast', 799, 1, 15440, 0, 0, 1, 0);</sql><sql name="Missing achievements.sql">SELECT AGT.*
FROM Achievement_AGT AGT
LEFT JOIN Achievement A ON AGT.ID = A.ID AND AGT.FactionID = A.FactionID
LEFT JOIN Achievement_AGT_Ignore AGTI ON AGT.ID = AGTI.ID
WHERE A.ID IS NULL AND AGTI.ID IS NULL AND AGT.Name NOT LIKE '%Realm First%' AND AGT.TRACKING_FLAG = 0

AND AGT.Category_AGT_ID != 21 AND AGT.Category_AGT_ID != 122 AND AGT.Category_AGT_ID != 128 AND AGT.Category_AGT_ID != 130 -- Ignore Statistics
AND AGT.Category_AGT_ID != 131 AND AGT.Category_AGT_ID != 132 AND AGT.Category_AGT_ID != 133 AND AGT.Category_AGT_ID != 134 -- Ignore Statistics
AND AGT.Category_AGT_ID != 135 AND AGT.Category_AGT_ID != 136 AND AGT.Category_AGT_ID != 137 AND AGT.Category_AGT_ID != 140 -- Ignore Statistics
AND AGT.Category_AGT_ID != 145 AND AGT.Category_AGT_ID != 152 AND AGT.Category_AGT_ID != 153 AND AGT.Category_AGT_ID != 154 -- Ignore Statistics
AND AGT.Category_AGT_ID != 173 AND AGT.Category_AGT_ID != 178 AND AGT.Category_AGT_ID != 14807 AND AGT.Category_AGT_ID != 14821 -- Ignore Statistics
AND AGT.Category_AGT_ID != 14822 AND AGT.Category_AGT_ID != 14823 AND AGT.Category_AGT_ID != 15096 AND AGT.Category_AGT_ID != 15164 -- Ignore Statistics
AND AGT.Category_AGT_ID != 15176 AND AGT.Category_AGT_ID != 15219 AND AGT.Category_AGT_ID != 15227 AND AGT.Category_AGT_ID != 15233 -- Ignore Statistics
AND AGT.Category_AGT_ID != 15264 AND AGT.Category_AGT_ID != 15409  AND AGT.Category_AGT_ID != 15430 -- Ignore Statistics

AND AGT.Category_AGT_ID != 15076 AND AGT.Category_AGT_ID != 15077 AND AGT.Category_AGT_ID != 15078 AND AGT.Category_AGT_ID != 15079 -- Ignore Guild
AND AGT.Category_AGT_ID != 15080 AND AGT.Category_AGT_ID != 15082 AND AGT.Category_AGT_ID != 15083 AND AGT.Category_AGT_ID != 15084 -- Ignore Guild
AND AGT.Category_AGT_ID != 15085 AND AGT.Category_AGT_ID != 15086 AND AGT.Category_AGT_ID != 15087 AND AGT.Category_AGT_ID != 15088 -- Ignore Guild
AND AGT.Category_AGT_ID != 15089 AND AGT.Category_AGT_ID != 15090 AND AGT.Category_AGT_ID != 15091 AND AGT.Category_AGT_ID != 15093 -- Ignore Guild
AND AGT.Category_AGT_ID != 15153 AND AGT.Category_AGT_ID != 15154 AND AGT.Category_AGT_ID != 15243 AND AGT.Category_AGT_ID != 15244 -- Ignore Guild
AND AGT.Category_AGT_ID != 15262 AND AGT.Category_AGT_ID != 15263 AND AGT.Category_AGT_ID != 15299 AND AGT.Category_AGT_ID != 15300 -- Ignore Guild
AND AGT.Category_AGT_ID != 15429 AND AGT.Category_AGT_ID != 15442 -- Ignore Guild

AND AGT.Category_AGT_ID != 155 AND AGT.Category_AGT_ID != 156 AND AGT.Category_AGT_ID != 158 AND AGT.Category_AGT_ID != 159 -- Ignore World Events for now
AND AGT.Category_AGT_ID != 160 AND AGT.Category_AGT_ID != 161 AND AGT.Category_AGT_ID != 162 AND AGT.Category_AGT_ID != 163 -- Ignore World Events for now
AND AGT.Category_AGT_ID != 187 AND AGT.Category_AGT_ID != 14981 AND AGT.Category_AGT_ID != 15101 -- Ignore World Events for now

AND AGT.Category_AGT_ID != 169 AND AGT.Category_AGT_ID != 170 AND AGT.Category_AGT_ID != 171 AND AGT.Category_AGT_ID != 172 -- Ignore Professions for now
AND AGT.Category_AGT_ID != 15071 -- Ignore Professions for now

AND AGT.Category_AGT_ID != 165 -- Ignore Arena for now
AND AGT.Category_AGT_ID != 14801 AND AGT.Category_AGT_ID != 14802 AND AGT.Category_AGT_ID != 14803 AND AGT.Category_AGT_ID != 14804 -- Ignore Battlegrounds for now
AND AGT.Category_AGT_ID != 14901 AND AGT.Category_AGT_ID != 15003 AND AGT.Category_AGT_ID != 15073 AND AGT.Category_AGT_ID != 15074 -- Ignore Battlegrounds for now
AND AGT.Category_AGT_ID != 15092 AND AGT.Category_AGT_ID != 15162 AND AGT.Category_AGT_ID != 15163 AND AGT.Category_AGT_ID != 15218 -- Ignore Battlegrounds for now
AND AGT.Category_AGT_ID != 15292 AND AGT.Category_AGT_ID != 15414 -- Ignore Battlegrounds for now
AND AGT.Category_AGT_ID != 15270 -- Ignore FoS PvP for now

AND AGT.Category_AGT_ID != 15268 -- Ignore FoS Promotions for now

AND AGT.Category_AGT_ID != 15280 AND AGT.Category_AGT_ID != 15446 -- Ignore Other for now

-- AND AGT.Category_AGT_ID = 15282
-- AND AGT.Name LIKE '%Season 2%'
-- AND AGT.Category_AGT_ID &gt; 14938
AND AGT.ID &gt; 14938

ORDER BY AGT.Category_AGT_ID, AGT.UIOrder;</sql><current_tab id="2"/></tab_sql></sqlb_project>
